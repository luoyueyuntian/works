### 为什么要代码review
一个项目，由于同时需要完成的需求会比较多，需要多人协作，而团队成员每个人工作习惯和技术水平都有差异，所以最终提交的代码会有各种各样的风格，同时也存在各种潜在的问题，所以在代码合入主库前，会有一个代码review的过程，来提前发现这些问题。同时为了能够统一代码的风格，我们也会制定一些统一的代码规则，这些规则也需要一定手段去保证每个人去遵守，这些手段主要一个是代码静态检查，另外一个就是平时代码review时去督促大家按照规则来写代码。

### 怎么去代码review
一般代码的review是由项目的负责人处理，或者类似与项目开发主管的角色来做。

如果review的人一直处于一线开发，是可以发现代码里面的业务逻辑问题，如果长期脱离一线开发，那只能发现一些代码逻辑问题和一些基本的规范问题，并不能发现业务逻辑上有什么问题，这个可能需要测试去发现这个问题。

代码的review一般主是为了以下几个目的：
+ 提交的代码符合项目组制定的规范
+ 代码中没有明显的bug
+ 风险评估，如果修改涉及到多个模块，那么风险会比较大
+ 保证核心功能不被破坏，一些核心代码是不应该允许随意修改的
+ 了解项目的进度
+ 从整体的角度去分析项目模块结构是否有可以优化的地方

### 代码逐渐变复杂的过程
对于项目刚开始的时候，代码逻辑相对都比较简单，各个模块代码之间的交互相对不那么复杂，发现问题也相对比较容易，但是随着代码的增加，尤其是功能一直增加在原来的功能之中，结果代码里面增加了很多复杂的条件分支，这样就会导致代码之间的耦合变得相对复杂，这个时候对代码的修改，会很容易引发一些不容易发现的bug,甚至在代码review的时候也根本看不出某个地方的修改对于其他地方有什么影响。这个时候其实也是项目比较危险的时候，如果不加控制，后续可能面临项目失控的风险。最终的结果是，往里面添加很小的功能就有可能导致很多功能出问题，然后一个一个的修复时，接连又出现更多的bug，而对于这种情况，让测试去将之前以及开发的上百个乃至上千个特性都去测一遍，是不太现实的。对于自动化测试，其实也并不能很好的解决这个问题，自动化测试一般主要用了测试主流程，对于去适配一些小众场景的自动化测试，其实工作量很大，成本几乎是不可接收的，而且当功能发生变更时，自动化也必须得跟着变更，这个工作量并不低，对于敏捷开发而言，时间上也是不允许的。对于这种问题的出现，根本原因是逻辑复杂度随着迭代的进行，逐步增加的，这个问题一般只有开发能够体会到，而提需求的产品是不会考虑这个问题的，解决这个问题，需要开发从两方面入手，一个是控制功能的复杂度，适当拒绝掉一些不合理的新功能，另外一个就是做好代码重构的准备。

一个项目代码的架构是不会一成不变的，项目刚开始的时候，没有人能知道项目后续会往哪个方向发展，这个时候就需要在架构上预留一定的可扩展性，同时也要避免一些不必要的依赖，不能一味的追求代码的重复度。大的方向上要各个模块之间是解耦的，模块内部尽量不要有重复代码，但是各个模块之间，可以容忍有一部分合理的重复代码，原则上如果只是代码类似，但是并不是做同一件事情，处理的不是同一个业务逻辑，这样当其中某个模块到了明显需要重构时，就可以不受到其他模块的牵制进行重构，而不是说每改一个方法，一个类，就要去将其他模块的功能全部再测一遍，看下是否受到影响。