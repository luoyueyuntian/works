先说结果：第三轮CTO面未通过

我虽然也经历过一些面试，但富途这类面试，还是第一次经历。富途一共四面，每一轮面试通过才会有下一轮面试。

##### 第一轮技术面
到地点后，在前台签到，然后会给你一张笔试题，一共6道题，给了一个小时的时间做。

第一题：用两种方式实现左右布局，左边宽度固定，右边宽度自适应

这里我大概说一下答案，实际笔试是需要把代码写出来：1）通过浮动；2）通过弹性盒子布局

第二题：设计一个带缓存的计算斐波那契数列第N项值的算法

第三题：判断有效括号，一段字符串包含大括号、中括号、小括号，写一个方法判断括号嵌套是合法的
这个刷过LeetCode的都知道怎么做，用一个栈来存左括号，遇到右括号，就把栈中最后一个左括号弹出来，并比较是否和右括号匹配，如果匹配则继续往后判断，否则直接返回不合法

第四题：有一段代码，分别在不同的地方打印不同的字符串，请把字符串的打印结果写出来
答：这个是考察变量提升+事件队列的问题，类似的很多，这里写具体的没什么意义

第五题：一个表单有3个CheckBox，分别代表白色、黑色、蓝色，请设计两种数据结构用来提交表单，并比较这两种数据结构的优缺点
答：数组和对象，分析略

第六题：在浏览器地址栏中输入一个网址并回车，到页面显示这段时间浏览器发生了什么？分别分析每一阶段有哪些性能优化手段
答：具体答案略，这个是把两个问题结合起来了，网上有很多答案，这里不多讲

我做的比较快，大概半个小时做完了，然后交到前台，那边让我在旁边坐下，大概坐了十分钟后，一面的面试官下来了，然后是正常的面试。面试官让我自我介绍，然后看了我做的题目。
先是问我布局的问题，在左右布局中我用到了浮动，面试官问我浮动会有什么影响，我答道浮动会导致后面的元素往上提升，并且父元素五无法包裹浮动子元素，这个在父元素有边框的时候比较明显。面试官说你提到的都是对其他元素的影响，浮动对自身有什么影响，我说对于行内元素，宽度是内容决定的，无法设置宽度高度和内边距、外边距，块级元素默认宽度100%，单独占一行，可以设置宽度高度和内外边距，一旦行内或块级元素设置浮动，则他们的表现有点类似与行内块级元素，默认宽度是内容宽度觉定的，但可以设置宽度高度，可以设置内外边距，会与其他的行内元素或行内块级元素共存在一行。
面试官点头，然后问我第二题是带缓存的吗，我说带，然后他说我用到了递归，问我递归会有什么问题，我说递归会一直创建栈，如果对于求比较大的N的斐波那契数列的值，可能会出现堆栈溢出的问题，面试官又问堆栈溢出后会怎么样，我说堆栈溢出后会异常退出，接着又问我这个怎么优化，我说改成循环，但是循环代码比较多，我就图简单没有用。
面试官问了我有效括号的思路，我简单说了下，也没有说清楚，面试官可能算法也一般，就没有继续追问。然后接着说我第五题的数据提交的太多了，问我有没有其他的方式，我说，用1、3、5分别表示这三个表单的值，提交是把这三个表单值得和提交到后端，这样只需要提交一个数字，面试官问我为什么是1、3、5，我说我是随便说的一个，数字要能区分开你要提交哪几个数据，比如用1、2、3肯定就不行了，如果我提提交3，就无法区分你是选了一个3，还是选了1和2，面试官说也行，然后问我后端收到数据后怎么还原，我说从最大的开始减，这个问题就此结束，面试官应该是希望有其他答案，具体我也不知道，只不过这个方案也可以，就没有继续问了。
然后就出了一道算法题，有两个有序数组，如何判断一个数据是另一个数组的子数据，还跟我解释了什么是子数组的概念，然后我就开始在纸上写算法，写了大概的思路，没有完全按照js的语法来做，大概5分钟做完了，然后把答案给面试官看，面试官简单看了下，然后就问了我大概思路，就没有继续问下去了
然后问我了不了解对称加密和非对称加密，你知道的对称加密有哪些，非对称加密有哪些，他们分别什么时候用，我说了解，RSA是非对称加密，md5是对称加密，非对称加密用在证书认证，对称加密用在http正常会话中，然后又问我为什么要在认证完了以后使用对称加密，我说非对称加密比较耗性能，为了提高性能，一般https认证完成后会交换秘钥，然后使用对称加密。接着又问了知道哪些状态码，我随便说了一些，然后他问我知道304是做什么的吗，我说304是重定向，面试官说304肯定是重定向，但是304是什么场景会用到，这个我实在是没有记得太清楚，就说是临时重定向，请求时不要改变原来请求方式，这个答错了，304是未修改，因为记混了，所以答错了，面试官不再继续追问这个问题。
接着又问401与403有什么区别，我说401是未授权，403是禁止访问。

到目前为止，基本没有什么问题难到我，所以面试官就没有继续再问其他题目了，然后问了我为什么离职等等的，然后跟我说这边面试流程比较长，一共有四轮，然后问我有什么要问的，我问了下公司上班时间、福利、绩效评估问题，然后就说没有什么要问的了。

##### 第二轮技术面：
到地点后，前台签到，然后让我在旁边等下，过了两分钟，二面面试官过来了，让后带我到一个会议室，开始做题，一共三到题，第一题是数学题，有两个相等的容器，第一个容器里面装的是蓝色颜料，第二个容器里面装的是红色颜料，先从第一个容器里面舀一勺颜料到底二个容器，混合均匀后，再从第二个容器里面舀一勺颜料到第一个容器，问最终第一个容器里面的红蓝颜料比例与第二个容器里面的蓝红颜料的比较谁大？我先假设分别假设了两个容器的颜料体积，然后开始分析第一次和第二次两个容器蓝红颜料的体积，中间面试官看了我的答案，说题目没说清楚，开始两个颜料的体积是相同的，然后我接着很快得出了相等的答案，面试官简单看了下，默认我做对了。
然后开始做第二道题，题目是实现一个定长数据，实现往数组里面添加数据、删除数据、判断数组是否为空、判断数据是否为满，且这几个操作时间复杂度为1，还有一些其他的限制，大概就是要实现一个环形数组。做这道题时我花了好多时间与面试官确认要求，最后因为前面没有很好的理解题目，时间不够了，最终没有实现环形数组的功能，面试官看了我的答案，然后也给了一些提示，但我已经放弃了，然后他最后也没有继续提示我了，就让我做下一题。
第三题是一个字符串只包含“R”、“G”、“B”，顺序是打乱的，让我实现一个算法，对这个字符串排序，结构是所有的“R”在最前面，所有的“B”在最后面，然后我就开始在纸上写答案，主要思路是参考快排的做法，中间在纸上推演了排序过程，最终也很快做完了，大概就10分钟不到。
面试官大概看了下答案，大体是对的，中间有些小细节应该是有问题，但面试官没有说什么，然后开始问我了不了解首屏优化，有哪些首屏优化的手段，然后我就开始背首屏优化的一些常用手段，感觉面试官已经有点心不在焉了，说了一会，记不起来更多的了，面试官看我没有说话，就让我说下有哪些浏览器兼容性问题，这个我没怎么准备，就说了下表单默认样式是不一样的，然后说有一些针对ie6、ie7、ie8的hack方式，可以让一些样式只对特定版本生效，面试官说你说的都是样式的额，有没有关于js的，然后我就开始在大脑里搜索关于js的不兼容性问题，大概都是《JavaScript高级程序设计》；里面提到的一些，然后又是一段沉默，面试官接着又问你
知道哪些web安全的问题，然后我开始背web安全相关的问题，面试官让我讲一下xss攻击有什么危害，我讲了三点：一是可以拿到用户cookie，进行跨站请求伪造；二是可以执行一些干扰用户操作的代码，比如不停的alert，让用户无法正常操作；三是可以显示一些伪造的图片。面试官说还可以，然后又问了gulp和webpack的区别，我说gulp是一个任务执行器，只能执行一些打包之类的任务，而webpack是一个模块加载器，webpack本事是node写的，支持js模块，但可以通过loader把其他文件也作为一个模块进行处理，并且可以通过plugin做一些其他功能。
面试官基本认可了我，然后又问了我离职原因，问我有什么要问的，我问了下上下班时间，然后问了下多长时间没有消息就不用再考虑了，面试官说面试通过一般两三天内会联系我。然后第三天HR加了我微信，和我沟通三面的时间。

##### 第三轮面试（结果挂）：
富途CTO是腾讯出来的大佬，在公司简介上可以看到照片，我到了之后HR让我等一会，然后去和CTO沟通了下时间，接着就带着我进了CTO办公室，本人和照片基本无差别，可能照片上反光显的更油腻一点。
CTO拿着我的简历，然后让我做自我简介，我大概一分钟介绍完了，然后，他就拿出两张纸，让后在纸上写了第一道题：写出一个表达式，返回a,b,c的中位数，这道题不算难，但要用一个表达式难实现，还是有一点麻烦，我一开始觉得很简单，然后再思考，又觉得有一点难，一时竟无法下手，然后开始在纸上分析，接着画决策树，然后慢慢有了思路，最后大概10分钟写出了完整答案，然后跟面试官说我做好了，然后面试官看了我的答案，大概答案长度是对的，就问我，如果其中有两个或三个数相等，你的答案还正确吗，并把纸还给我，我想了几秒，然后说a>b=c，那b和c都是正确答吧，然后面试官又开始出第二道题。
第二道题是写一个方法，实现一个数组去重，要求不改变数组顺序，并且空间复杂度为常量。开始拿到这道题，我以为是要用位运算来做，我给面试官说位运算我不太熟，面试官说这个是一个普通的数学题，不需要用到位运算，并且强调了时间复杂度是不限的，到这里，我就没什么疑问了，既然时间复杂度不限，那就暴力解题，然后大概5分钟写完了答案。面试官看了我的答案，接着开始出第三题。
到目前为止，已经连过两道题，开始变的放松起来，第三题很简单，写一个表达式，返回一个3 ~ 5机数，我一分钟就做完了，然后面试官看了我的答案，说你这个有没有什么问题，然后问我Math.random返回的值是在那个区间，我说0 ~ 1然后问我是开区间还是闭区间，我收左右都是闭区间，这个我实在是不记得了，面试官又问我，那闭区间，你觉得这个答案有什么问题吗？我当时实在是记不起来了，就想放弃这道题，然后坦诚说我实在是不记得是什么区间了，然后说这样没有问题，然后面试官放弃了我，就开始出下一题。
第四题是用goto语句改下for循环，我没用过goto，面试官大概讲了下用户，最后大概用了8分钟做对了，然后来到最后一题，问有一家大医院，一家小医院，大医院每天接生100人，小医院每天接生50人，问哪家医院一天出生的男孩比例超过60%的概率大，我非常草率的说，一样的，我说是独立随机事件，概率是一样的，然后突然有说坑你不对，只有样本空间足够大时，才会满足1比1，样本空间越小，偏离1：1的概率越大，从这个角度看，应该是小医院，这个面试官的突然表现出极大的兴趣，而我对这些没有做任何解读，我分析后，面试官让我给出最终大答案，我最后还是坚持了概率一样的答案，最终5题错了3题，面试结束，面试官委婉的表达了我在这边的面试已经结束了，问我有什么要问他的吗？

整个面试下来，除了概率论那一题，没有考到我的盲点，本来是非常有希望通过面试的，只不过没有经历过CTO面，没想到最后一面5道题就结束了面试，前面放弃了生产随机数的题，后面概率论的题也草率的给出了最终答案，本来想通过后面的题扳回一局，解决面试结束，CTO面不通过。

不过整个面试对我来说还是非常有意义的，一个是高级别的面试，不要放弃任何一道题，每道题都应该深思熟虑，答案尽可能的准确全面，必要时可以把整个思考过程展现出来，让面试官看到你的思考过程，可以给出更有针对性的提示。另外再回答浏览器兼容性问题时，也展现了极大的风险，因为在知道某个写法有不兼容性问题后，基本都会避开这类写法，所以在答浏览器兼容性问题时，表现的比较差，好在这次面试，面试官似乎对这块也不是太了解，所以没有太大问题。
