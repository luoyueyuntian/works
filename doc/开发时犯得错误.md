### 谨慎使用了localStorage.clear()
当时我们项目还不是SPA，跨页面传参在当时主要两种方案：一是用URL传参；而是cookie或storage。当时为了跨页面传参，用了localStroage，但是localStorage的数据需要在默写时候清理掉，当时我搜索了代码里面所有用到的地方，在确定需要全部清理掉的时候，就偷懒使用了localStorage.clear。结果当时的系统登录界面就出现了一些异常，一般登录系统时会在右下角弹窗提示系统上次登录时间，但刚登录时已经弹出一次了，到我们应用时又弹了一次，当时我觉得是平台的问题，但平台说他们那边是好的，而且在平台上面的其他应用也是没问题的，让我们自己定位。不得已，我就在浏览器调试台里面找他们这块的代码，但是他们的代码时动态添加到HTML页面的，而且运行完了就会把script标签删掉，没办法直接找到代码，于是我通过断点，一步一步的走，最终走到了他们的代码，然后趁代码还没运行完时在HTML里面保留了完整的代码这个时机，找到了对应的代码，发现他们判断有没有提示用户上次登录时间是保存在localStorage，结果是因为我的那行localStorage.clear把这个状态给清理掉了，于是我就把localStorage.clear改成了localStorage.clearItem，于是问题解决了。localStorage本身是全局对象，里面可以任意加属性，但是全局对象的使用上会又很多风险，比如变量冲突，这个是一个巨大的坑，另外全局对象谁创建谁管理，不要去随意修改别人创建的东西，localStorage.clear本身就是不加分辨的清理掉了所有的属性，这个在使用上确实得小心。

### 不要修改了三方包的代码
项目中用到的第三方包，包括框架、组件、类库，原则上是不允许改的，除非你不打算更新了，打算自己维护，否则不要改，因为后面升级时就会导致修改丢失，而引发问题，这种问题相对不好发现，因为影响的都是已经很成熟的功能，可能根本没有人去测，或者说你升级三方包时，安排测试去测了，但对于这种情况，测试一般不会跟一开始一样，完整的测一遍，而是仅仅简单的测下主功能，这种情况下的危害反而是比较大的。


### 代码中不适用的代码不要仅仅是注释掉就完了
我并没有在这个事情上踩过坑，但确实不保留注释的代码是一个值得推荐的原则，因为有的时候之前发布的某个版本出问题了，我们会取对应的版本的代码去定位问题和修改，但是在定位问题时，有时会注释掉一部分代码，看看代码运行的结果，来缩小有问题代码的范围，当我们取消注释时，很容易会把之前注释掉的代码给取消注释了，这个问题当然可以通过最后对比修改前后的文件来发现，但仍然存在不必要的风险，既然代码已经注释了，那把代码删掉其实也是可以的，而且还能避免前面说的被无意取消注释后带来的潜在风险。

### 项目维护时间超过一定年限，尽可能不要去修改老代码，即时要改，也尽可能地保留老的公共代码
项目开发时间长了以后，功能就会变多，通过测试去发现项目中的bug变得越来越不可能，这个时候对于旧功能的修改，需要额外的小心，因为对旧功能的修改，具体会影响到哪些地方，是很难去评估的，这个原因是多方面的，一个是时间长了之后，开发人员可能已经忘记了之前的代码逻辑，里面有些hack代码已经不清楚是为了解决什么问题；一个是时间长了之后，开发人员可能存在流失，里面的一些逻辑已经“失传”了，对里面逻辑的改动会有什么后果没人能精确评估；另外一个更重要的原因是项目开发周期到一定长度后，里面的逻辑比然是严重耦合的，这个跟代码架构有一定关系，但并不是说项目早期设计一个好的架构就能解决这个问题，一方面，项目的架构不是一成不变的，因为业务的快速变化，项目的架构也需要不断的调整，开始感觉还不错的架构，随着需求的变化，将很快不能适应项目新的需求，这个时候需要架构师即时跟进，调整项目架构，还有就是即使项目架构不错，但是要保持开发人员按项目架构来开发，也是需要付出一定成本的，在项目需求紧的情况下，很多人可能为了快速完成需求，会不遵循项目已经定下来的架构进行开发，而是随心所欲的违背原有架构逻辑，怎么方便怎么来，导致代码出现很多混乱，给理解代码的逻辑带来很多困难。对于这种情况，最好的办法是进行重构，但这个代价并不是所有的项目经理都能够接受，重构需要停下现有的项目需求开发，花上2~4周的时间，做出来的东西可能会有很多问题，于现有稳定运行的代码相比，代价显然太大了。对于这种情况下，最好不要去修改老的代码，如果能新些代码替换老的代码，对于一些在公共目录的代码，尽可能地保留，即时这些代码看起来像没有什么地方用到。